# å…¬å¯“æˆ¿é—´æ¸…æ´ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªç”¨äºç®¡ç†å…¬å¯“æˆ¿é—´æ¸…æ´è®°å½•çš„å…¨æ ˆWebåº”ç”¨ç³»ç»Ÿï¼ŒåŒ…å«å‰ç«¯Vue3åº”ç”¨å’Œåç«¯Node.js APIã€‚

## é¡¹ç›®ç»“æ„

```
Project/
â”œâ”€â”€ client/                 # å‰ç«¯Vue3åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layouts/        # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/         # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router/         # Vue Routerè·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ style.css       # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ index.html          # HTMLå…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ vite.config.js      # Viteé…ç½®
â”‚   â””â”€â”€ package.json        # å‰ç«¯ä¾èµ–
â”œâ”€â”€ server/                 # åç«¯Node.js API
â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ middleware/         # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ routes/             # APIè·¯ç”±
â”‚   â”œâ”€â”€ app.js              # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ .env                # ç¯å¢ƒå˜é‡
â”‚   â””â”€â”€ package.json        # åç«¯ä¾èµ–
â”œâ”€â”€ database/               # æ•°æ®åº“è„šæœ¬
â”‚   â””â”€â”€ create_database.sql # æ•°æ®åº“åˆ›å»ºè„šæœ¬
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## åŠŸèƒ½ç‰¹æ€§

### å‰ç«¯åŠŸèƒ½
- ğŸ” ç”¨æˆ·è®¤è¯ï¼ˆç™»å½•/æ³¨å†Œï¼‰
- ğŸ“Š æ•°æ®æ¦‚è§ˆä»ªè¡¨ç›˜
- ğŸ“ æ¸…æ´è®°å½•ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- ğŸ” è®°å½•æœç´¢å’Œç­›é€‰
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸ“ˆ ç»Ÿè®¡æ•°æ®å¯è§†åŒ–
- ğŸ“¤ æ•°æ®å¯¼å‡ºï¼ˆCSVæ ¼å¼ï¼‰

### åç«¯åŠŸèƒ½
- ğŸ”’ JWTèº«ä»½è®¤è¯
- ğŸ›¡ï¸ å®‰å…¨ä¸­é—´ä»¶ï¼ˆHelmetã€CORSã€é€Ÿç‡é™åˆ¶ï¼‰
- ğŸ“Š RESTful APIè®¾è®¡
- ğŸ—„ï¸ SQL Serveræ•°æ®åº“é›†æˆ
- ğŸ“ å®Œæ•´çš„CRUDæ“ä½œ
- ğŸ“ˆ ç»Ÿè®¡æ•°æ®API
- ğŸ” åˆ†é¡µå’Œç­›é€‰æ”¯æŒ

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite
- **UIç»„ä»¶åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ—¥æœŸå¤„ç†**: Day.js
- **å›¾æ ‡**: Element Plus Icons

### åç«¯
- **è¿è¡Œæ—¶**: Node.js
- **æ¡†æ¶**: Express.js
- **æ•°æ®åº“**: SQL Server
- **èº«ä»½è®¤è¯**: JWT (jsonwebtoken)
- **å¯†ç åŠ å¯†**: bcryptjs
- **æ•°æ®éªŒè¯**: Joi
- **å®‰å…¨**: Helmet, CORS, express-rate-limit
- **æ—¥å¿—**: Morgan
- **ç¯å¢ƒå˜é‡**: dotenv

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm >= 8.0.0
- SQL Server 2008R2 æˆ–æ›´é«˜ç‰ˆæœ¬

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd Project
```

### 2. æ•°æ®åº“è®¾ç½®
1. ç¡®ä¿SQL Serveræ­£åœ¨è¿è¡Œ
2. æ‰§è¡Œæ•°æ®åº“åˆ›å»ºè„šæœ¬ï¼š
```sql
-- åœ¨SQL Server Management Studioä¸­æ‰§è¡Œ
-- database/create_database.sql
```

### 3. åç«¯è®¾ç½®
```bash
cd server
npm install

# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå·²æœ‰.envæ–‡ä»¶ï¼‰
# æ ¹æ®éœ€è¦ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 4. å‰ç«¯è®¾ç½®
```bash
cd client
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 5. è®¿é—®åº”ç”¨
- å‰ç«¯åº”ç”¨: http://localhost:5173
- åç«¯API: http://localhost:3000
- APIæ–‡æ¡£: http://localhost:3000/api/docs
- å¥åº·æ£€æŸ¥: http://localhost:3000/health

## APIæ¥å£

### è®¤è¯æ¥å£
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

### æ¸…æ´è®°å½•æ¥å£
- `GET /api/cleaning/` - è·å–æ¸…æ´è®°å½•åˆ—è¡¨
- `GET /api/cleaning/:id` - è·å–å•ä¸ªæ¸…æ´è®°å½•
- `POST /api/cleaning/` - åˆ›å»ºæ¸…æ´è®°å½•
- `PUT /api/cleaning/:id` - æ›´æ–°æ¸…æ´è®°å½•
- `DELETE /api/cleaning/:id` - åˆ é™¤æ¸…æ´è®°å½•
- `DELETE /api/cleaning/batch/:ids` - æ‰¹é‡åˆ é™¤è®°å½•
- `GET /api/cleaning/stats/summary` - è·å–ç»Ÿè®¡æ•°æ®

## æ•°æ®åº“è¡¨ç»“æ„

### users è¡¨
- `id` - ç”¨æˆ·IDï¼ˆä¸»é”®ï¼‰
- `username` - ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰
- `email` - é‚®ç®±ï¼ˆå”¯ä¸€ï¼‰
- `password` - å¯†ç ï¼ˆåŠ å¯†ï¼‰
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

### cleaning_records è¡¨
- `id` - è®°å½•IDï¼ˆä¸»é”®ï¼‰
- `date` - æ¸…æ´æ—¥æœŸ
- `type` - æ¸…æ´ç±»å‹
- `room_numbers` - æˆ¿é—´å·ç 
- `room_count` - æˆ¿é—´æ•°é‡
- `unit_price` - å•ä»·
- `total_amount` - æ€»é‡‘é¢
- `remarks` - å¤‡æ³¨
- `created_by` - åˆ›å»ºäººIDï¼ˆå¤–é”®ï¼‰
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

## å¼€å‘æŒ‡å—

### å‰ç«¯å¼€å‘
1. ç»„ä»¶å¼€å‘éµå¾ªVue 3 Composition API
2. ä½¿ç”¨Piniaè¿›è¡ŒçŠ¶æ€ç®¡ç†
3. éµå¾ªElement Plusè®¾è®¡è§„èŒƒ
4. å“åº”å¼è®¾è®¡ï¼Œç§»åŠ¨ç«¯ä¼˜å…ˆ

### åç«¯å¼€å‘
1. éµå¾ªRESTful APIè®¾è®¡åŸåˆ™
2. ä½¿ç”¨ä¸­é—´ä»¶è¿›è¡Œè®¤è¯å’ŒéªŒè¯
3. é”™è¯¯å¤„ç†ç»Ÿä¸€æ ¼å¼
4. æ•°æ®åº“æ“ä½œä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ESLintè¿›è¡Œä»£ç æ£€æŸ¥
- ä½¿ç”¨Prettierè¿›è¡Œä»£ç æ ¼å¼åŒ–
- æäº¤å‰è¿›è¡Œä»£ç æ£€æŸ¥

## éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
1. æ„å»ºå‰ç«¯åº”ç”¨ï¼š
```bash
cd client
npm run build
```

2. é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
3. å¯åŠ¨åç«¯æœåŠ¡ï¼š
```bash
cd server
npm start
```

### ç¯å¢ƒå˜é‡é…ç½®
```env
# ç”Ÿäº§ç¯å¢ƒç¤ºä¾‹
NODE_ENV=production
PORT=3000
JWT_SECRET=your_production_secret
DB_SERVER=your_db_server
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=your_db_name
CORS_ORIGIN=https://your-frontend-domain.com
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - æ£€æŸ¥SQL Serveræ˜¯å¦è¿è¡Œ
   - éªŒè¯è¿æ¥å­—ç¬¦ä¸²å’Œå‡­æ®
   - ç¡®è®¤é˜²ç«å¢™è®¾ç½®

2. **å‰ç«¯æ— æ³•è¿æ¥åç«¯**
   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
   - éªŒè¯CORSé…ç½®
   - æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨

3. **è®¤è¯å¤±è´¥**
   - æ£€æŸ¥JWTå¯†é’¥é…ç½®
   - éªŒè¯tokenæ˜¯å¦è¿‡æœŸ
   - ç¡®è®¤ç”¨æˆ·æƒé™

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰è¯·ç¡®ä¿è¿›è¡Œå……åˆ†çš„å®‰å…¨æ€§æµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–ã€‚